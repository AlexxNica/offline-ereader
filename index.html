<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="description" content="A responsive, offline eReader built with Polymer.">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <meta theme-color="#0277db">

    <title>My Library</title>

    <link rel="manifest" href="manifest.json">
    <link rel="shortcut icon" href="images/icon.png">

    <script src="bower_components/platform/platform.js"></script>
    <link rel="import" href="bower_components/core-header-panel/core-header-panel.html">
    <link rel="import" href="bower_components/core-icon-button/core-icon-button.html">
    <link rel="import" href="bower_components/core-image/core-image.html">
    <link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
    <link rel="import" href="bower_components/font-roboto/roboto.html">
    <link rel="import" href="bower_components/paper-dialog/paper-dialog.html">
    <link rel="import" href="bower_components/paper-dialog/paper-dialog-transition.html">
    <link rel="import" href="bower_components/paper-radio-group/paper-radio-group.html">
    <link rel="import" href="bower_components/paper-ripple/paper-ripple.html">

    <link rel="stylesheet" href="styles/common.css" shim-shadowdom>
    <link rel="stylesheet" href="styles/index.css" shim-shadowdom>
  </head>

  <body unresolved fullbleed layout vertical>
    <template is="auto-binding" id="page-template">
      <core-header-panel flex>
        <core-toolbar>
          <div id="page-title" flex>My Library</div>

          <core-icon-button icon="sort"
                            on-tap="{{toggleSortDialog}}">
          </core-icon-button>
          <paper-dialog id="sort-dialog"
                        heading="Sort by"
                        transition="paper-dialog-transition-center">
            <paper-radio-group selected="{{sortOrder}}"
                               on-change="{{toggleSortDialog}}">
              <paper-radio-button name="lastAccessed" label="Recent"></paper-radio-button>
              <paper-radio-button name="title" label="Title"></paper-radio-button>
              <paper-radio-button name="author" label="Author"></paper-radio-button>
            </paper-radio-group>
          </paper-dialog>

          <core-icon-button icon="add"
                            on-tap="{{toggleAddDialog}}">
          </core-icon-button>
        </core-toolbar>

        <div fit layout horizontal wrap center-justified>
          <template repeat="{{book in books}}">
            <div class="book">
              <paper-ripple fit></paper-ripple>

              <core-image class="cover"
                          src="{{book.cover}}"
                          preload
                          fade
                          sizing="crop">
              </core-image>

              <div class="book-bottom" layout horizontal>
                <div class="text" layout vertical>
                  <div class="title">{{book.title}}</div>
                  <div class="author">{{book.author}}</div>
                </div>
                <div class="icons" layout vertical>
                  <core-icon-button icon="more-vert"
                                    on-tap="{{toggleBookDialog}}">
                  </core-icon-button>
                  <template if="{{book.downloaded}}">
                    <core-icon icon="check-circle"></core-icon>
                  </template>
                </div>
              </div>
            </div>
          </template>
        </div>
      </core-header-panel>
    </template>

    <script src="js/index.js"></script>
  </body>
</html>
